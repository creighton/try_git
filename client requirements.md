Client Requirements
4.1.1 ID
Ids SHOULD be generated by the Activity Provider.
4.1.2.3 Inverse Functional Identifier
mbox property - The required format is mailto:email address. Only email addresses that have only ever been and will ever be assigned to this Agent, but no others, should be used for this property and mbox_sha1sum.
If the system that provides the account Object uses OpenID, the Activity Provider SHOULD use the openID property instead of an account Object.
If the Activity Provider is concerned about revealing personally identifiable information about an Agent or Group, it SHOULD use an opaque account name (for example an account number) to identify all Statements about a person while maintaining anonymity.
4.1.2.2 When the Actor ObjectType is Group
An Anonymous Group MUST include a 'member' property listing constituent Agents.
An Anonymous Group MUST NOT contain Group Objects in the 'member' property.
An Anonymous Group MUST NOT include any Inverse Functional Identifiers.
An Identified Group MUST include exactly one (1) Inverse Functional Identifier.
An Identified Group MUST NOT contain Group Objects in the 'member' property.
An Identified Group SHOULD NOT use Inverse Functional Identifiers that are also used as Agent identifiers.
An Identified Group MAY include a 'member' property listing constituent Agents.
4.1.3 Verb
Id property -The IRI should be human-readable and contain the Verb meaning. 
The display property MUST be used to illustrate the meaning which is already determined by the Verb IRI.
A system reading a Statement MUST use the Verb IRI to infer meaning.
The display property MUST NOT be used to alter the meaning of a Verb.
A system reading a Statement MUST NOT use the display property to infer any meaning from the Statement.
A system reading a Statement MUST NOT use the display property for any purpose other than display to a human. Using the display property for aggregation or categorization of Statements is an example of violating this requirement.
The display property SHOULD be used by all Statements.
The IRI contained in the id SHOULD be human-readable and imply the Verb meaning.
4.1.3.1 Use in Language and Semantics of Verbs
The IRI represented by the Verb id identifies the particular semantics of a word, not the word itself. For example, the English word "fired" could mean different things depending on context, such as "fired a weapon", "fired a kiln", or "fired an employee". In this case, an IRI MUST identify one of these specific meanings, not the word "fired".
4.1.3.2 Use in Communities of Practice
Anyone establishing a new Verb MUST own the IRI, or MUST have permission from the owner to use it to denote an xAPI Verb.
Anyone establishing a new Verb SHOULD make a human-readable description of the intended usage of the Verb accessible at the IRI.
Activity Providers SHOULD use a corresponding existing Verb whenever possible.
Activity Providers MAY create and use a Verb if no suitable Verb exists.
4.1.4.1 When the ObjectType is Activity
An Activity id SHOULD use a domain that the creator is authorized to use for this purpose.
An Activity id SHOULD be created according to a scheme that makes sure all Activity ids within that domain remain unique.
An Activity Provider MUST ensure that Activity ids are not reused across multiple Activities.
An Activity Provider MUST only generate states or Statements against a certain Activity id that are compatible and consistent with states or Statements previously stored against the same id.
An Activity Provider MUST NOT allow new versions (i.e. revisions or other platforms) of the Activity to break compatibility.
An Activity with an IRL identifier MAY host metadata using the Activity Definition JSON format which is used in Statements, with a Content-Type of "application/json”.

4.1.6.2 ContextActivities Property
The Client SHOULD ensure that every value in the contextActivities Object is an array of Activity Objects instead of a single Activity Object.
4.1.10 Version
Version MUST be formatted as laid out for the API version header in API Versioning.
If Clients set the Statement version, they MUST set it to 1.0.0
Clients SHOULD NOT set the Statement version.
4.1.11 Attachments
The Client MAY send Statements with attachments as described above.
The Client MAY send multiple Statements where some or all have attachments if using "POST".
The Client MAY send batches of type "application/json" where every attachment Object has a fileUrl, ignoring all requirements based on the "multipart/mixed" format.
4.1.12 Data Constraints
A library SHOULD be used to construct IRIs, as opposed to string concatenation.
4.2 Retrieval of Statements
The consumer SHOULD NOT attempt to interpret any meaning from the IRL returned from the more property.
4.3 Voided
An Activity Provider that wants to "unvoid" a previously voided Statement SHOULD issue that Statement again under a new id
A reporting system SHOULD NOT show voided or voiding Statements by default.
4.4 Signed Statements
Clients MUST NOT assume a signature is valid simply because an LRS has accepted it.
5.3 Extensions
The meaning and structure of extension values under an IRI key are defined by the person who coined the IRI, who SHOULD be the owner of the IRI, or have permission from the owner.
 If the extension key is an IRL, the owner of the IRL SHOULD make a human-readable description of the intended meaning of the extension supported by the IRL accessible at the IRL.
5.4 Identifier Metadata
If metadata is provided, both name and description SHOULD be included.
For any of the identifier IRIs above, if the IRI is an IRL that was coined for use with this specification, the owner of that IRL SHOULD make this JSON metadata available at that IRL when the IRL is requested and a Content-Type of "application/json" is requested.
If this metadata is provided as described above, it is the canonical source of information about the identifier it describes.
Other sources of information MAY be used to fill in missing details, such as translations, or take the place of this metadata entirely if it was not provided or cannot be loaded. This MAY include metadata in other formats stored at the IRL of an identifier, particularly if that identifier was not coined for use with this specification.
Where an identifier already exists, the Activity Provider:
SHOULD use the corresponding existing identifier
MAY create and use their own Verbs where a suitable identifier does not already exist.
6.1 Encoding
All strings MUST be encoded and interpreted as UTF-8.
6.2 API Versioning
MUST include the "X-Experience-API-Version" header in every response.
MUST set this header to "1.0.0".
SHOULD tolerate receiving responses with a version of "1.0.0" or later.
SHOULD tolerate receiving data structures with additional properties.
SHOULD ignore any properties not defined in version 1.0.0 of the spec.
Systems MUST NOT convert Statements of newer versions into a prior version format, e.g., in order to handle version differences.
Systems MAY convert Statements of older versions into a newer version only by following the methods described in Appendix F: Converting Statements to 1.0.0.
6.3 Concurrency
An xAPI Client using either Agent Profile API or Activity Profile API MUST include the If-Match header or MUST include the If-None-Match header.
6.4.2 OAuth Authorization Scope
Note that the parameters "consumer_name" and "scope" are not part of OAuth 1.0, and therefore if used should be passed as query string or form parameters, not in the OAuth header.
7.3 Document APIs
An Activity Provider MAY send documents to any of the document APIs for Activities and Agents that the LRS does not have prior knowledge of. The LRS MUST NOT reject documents on the basis of not having prior knowledge of the Activity and/or Agent.
APs MAY use Documents of content type "application/json" to store sets of variables.
If an AP needs to delete a property, it SHOULD use a PUT request to replace the whole document as described below.
7.8 Cross Origin Requests
All xAPI requests issued must be POST. The intended xAPI method must be included as the only query string parameter on the request. (example: http://example.com/xAPI/statements?method=PUT)
Any required parameters which are expected to appear in the HTTP header must instead be included as a form parameter with the same name.
 If the xAPI call involved sending content, that content must now be encoded and included as a form parameter called "content". The LRS will interpret this content as a UTF-8 string. Storing binary data is not supported with this syntax.
It should also be noted that versions of Internet Explorer lower than 10 do not support Cross Domain Requests between HTTP and HTTPS. This means that for IE9 and lower, if the LRS is on an HTTPS domain, the Client sending the Statement must also be on HTTPS. If the LRS is on HTTP, the Client must be too.
There may be cases where there is a requirement for the Client Activity Provider to support IE8 and IE9 where the Client code is hosted on a different scheme (HTTP or HTTPS) from the LRS. In these cases, proxy is needed to communicate to the LRS. Two simple solutions might be to 1) set up a proxy pass through on the same scheme as the Client code to the LRS or 2) to host an intermediary server side LRS on the same scheme as the Client code to route Statements to the target LRS. An LRS MAY choose to provide both HTTP and HTTPS endpoints to support this use case. HTTP is inherently less secure than HTTPS, and both LRS and Client should consider the security risks before making the decision to use this scheme.
Appendix F: Converting Statements to 1.0.0
A 1.0.0 system converting a Statement created in 0.9 MUST follow the steps below:
If the Statement has been voided or uses Verbs, Activity types, or properties not included in the 0.9 specification, do not convert it.
Prefix "verb" with “http://adlnet.gov/expapi/verbs/”.
Prefix any Activity ids which are not full absolute IRIs with "tag:adlnet.gov,2013:expapi:0.9:activities:”.
Prefix any extension keys which are not full absolute IRIs with "tag:adlnet.gov,2013:expapi:0.9:extensions:”.
Prefix Activity types with “http://adlnet.gov/expapi/activities/”.
for each Agent (Actor):
Search for Inverse Functional Identifiers in this order: "mbox, mbox_sha1sum, openId, account". Keep the first populated Inverse Functional Identifier found and discard the rest.
For the above Inverse Functional Identifier, take the first element in the array and use that as the value of that Inverse Functional Identifier property, discarding any remaining elements.
If the "name" property is present, set it equal to the first element in the "name" array, discard the remaining elements.
Remove all remaining properties.
Remove the "voided" property from the Statement, if present. Remember, if the value of the voided property is true, then the Statement MUST NOT be converted.
Add "version": "1.0.0”
If an authority was not previously set, set the authority to an Agent identified by an account with a homePage set to the home page corresponding to the system performing the conversion and an accountName of "unknown".
If the Statement field in context was set, remove it from the Statement.
Preserve all other fields without modification, including "stored". Stored should still be updated if the Statement is passed to another system.
A 1.0.0 system converting a Statement created in 0.95 MUST follow the steps below:
If the Statement is voided, do not convert it.
Remove the "voided" property from the Statement, if present. Remember, if the value of the voided property is true, then the Statement MUST NOT be converted.
Add "version": "1.0.0”
If an authority was not previously set, set the authority to an Agent identified by an account with a homePage set to the home page corresponding to the system performing the conversion and an accountName of "unknown".
If the Statement field in context was set to anything other than a StatementRef, remove it from the Statement.
Preserve all other fields without modification, including "stored". Stored should still be updated if the Statement is passed to another system.

